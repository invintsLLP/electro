<section>
<div class="inv-bg_image {% if section.settings.opacity != blank %}bg_opacity{% endif %}" style={% if section.settings.image != blank %}"background-image:url('{{section.settings.image | img_url:"master"}}');background-size:cover;background-color:{{section.settings.bg_color}};{% endif %}">
  <h2 style="font-weight:{{section.settings.font_weight}}">{{section.settings.main_title}}</h2>
  <div class="text-main-content">
    {% for block in section.blocks %}
    <div class="text-inner-content">
      <div class="text-inner-image">
        {% if block.settings.image != blank %}
        <img src="{{block.settings.image | img_url:'master'}}">
        {% endif %}
      </div>
      <div class="text-inner-description">
        {% if block.settings.title != blank %}
        <h2>{{block.settings.title}}</h2>
        {% endif %}
        {% if block.settings.description != blank %}
        <p>{{block.settings.description}}</p>
      {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</div>	
</section>
{% schema %}
  {
    "name": "Section name",
	"class":"section-name",
    "settings": [
		{
			"type":"text",
			"id":"main_title",
			"label":"Main Title"
		},
        {
            "type":"image_picker",
            "id":"image",
            "label":"Image"
        },
		{
            "type":"color",
            "id":"bg_color",
            "label":"Background Color",
			"default":"#CCCCCC"
        },
		{
            "type": "range",
            "id": "opacity",
            "label": "Background Opacity",
            "min": 10,
            "max": 100,
            "step": 10,
            "default": 50
		},
		{
            "type": "range",
            "id": "font_weight",
            "label": "Font Weight",
            "min": 100,
            "max": 900,
            "step": 100,
            "default": 700
		}
	],
	"blocks":[
		{
			"type":"text",
			"name":"Content",
		"settings":[
			  {
                "type":"image_picker",
                "id":"image",
                "label":"Image"
              },	
              {
                "type":"text",
                "id":"title",
                "label":"Title",
                "default":"Description!!"
              },
			  {
                "type":"textarea",
                "id":"description",
                "label":"Description",
                "default":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla magna elit, luctus vel interdum vel, suscipit eu ligula.!!"
              }					  			
		  	]
		}
	],
    "presets" : [
      {
      "category" : "block",
      "name" : "Block"
      }	
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
<style>
.bg_image{    
    background-position: center center;
    background-repeat: repeat;
    background-size: cover;
  	position:relative;
}
.bg_opacity::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color:{{section.settings.bg_color}};
    opacity: {{section.settings.opacity}}%;
} 
.text-main-content .text-inner-content {
    position: relative;
}
.text-inner-description {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    text-align: center;
    align-items: center;
    justify-content: center;
    margin: auto;
    display: flex;
    flex-direction: column;
}
</style>